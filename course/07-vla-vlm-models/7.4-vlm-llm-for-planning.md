# 7.4 VLM与LLM用于规划

- **作者**: Damon Li
- **日期**: 2026年2月4日

## 1. 概述

随着大型语言模型 (Large Language Models, LLMs) 和视觉-语言模型 (Vision-Language Models, VLMs) 的飞速发展，它们在机器人规划领域的应用正成为具身智能研究的热点。LLMs 凭借其强大的语言理解、推理和生成能力，能够将人类的自然语言指令转化为机器人可执行的动作序列或代码。而 VLMs 则进一步弥合了视觉感知与语言理解之间的鸿沟，使机器人能够更好地理解物理世界并进行基于视觉的规划 [1]。

本节将探讨 LLMs 和 VLMs 如何赋能机器人进行高级规划，涵盖 Microsoft ChatGPT for Robot Series、SayCan、Code as Policy、思维链 (Chain of Thoughts) 等关键概念，并讨论它们在机器人抓取与操作中的具体应用。

## 2. VLM与LLM在机器人规划中的作用

### 2.1 语言理解与任务分解

LLMs 的核心优势在于其对自然语言的深刻理解能力。机器人可以通过 LLMs 解析复杂的人类指令，将其分解为一系列更小的、可管理的子任务。例如，一个指令“帮我准备早餐”可以被 LLM 分解为“去冰箱拿鸡蛋”、“打开炉子”、“煎鸡蛋”等步骤 [2]。

VLMs 则在此基础上增加了视觉感知能力，使得机器人能够将语言指令中的抽象概念与视觉场景中的具体物体和环境特征进行**接地 (Grounding)**。例如，VLM 可以识别出冰箱、鸡蛋、炉子等物体在当前环境中的位置和状态，从而为 LLM 的规划提供必要的视觉上下文 [3]。

### 2.2 高级规划与决策

LLMs 能够进行高级别的逻辑推理和规划，生成符合人类常识和任务逻辑的动作序列。它们可以利用其在海量文本数据中学习到的世界知识，为机器人提供更智能的决策支持。例如，当机器人需要“清理桌子”时，LLM 可以规划出“拿起脏盘子”、“放到洗碗机里”、“擦拭桌面”等一系列动作。

### 2.3 代码生成与执行

一些 LLMs 甚至可以直接生成机器人控制代码或可执行的脚本，从而将高级规划直接转化为低级控制指令。这种“Code as Policy”的方法极大地简化了机器人编程的复杂性，使得非专业用户也能通过自然语言控制机器人 [4]。

## 3. 关键方法与模型

### 3.1 Microsoft ChatGPT for Robot Series

微软研究院在2023年展示了如何利用 **ChatGPT** 来控制多种机器人，包括无人机、机械臂和家用助理机器人 [5]。其核心思想是：

-   **自然语言接口**：用户可以通过自然语言与 ChatGPT 进行交互，发出指令。
-   **任务分解与代码生成**：ChatGPT 接收指令后，会将其分解为一系列子任务，并为每个子任务生成可执行的机器人代码（例如，Python 函数调用）。
-   **XML 标签与反馈**：ChatGPT 可以解析和生成带有 XML 标签的指令，用于结构化地传递信息和接收机器人的反馈。
-   **少样本学习**：通过少量的示例，ChatGPT 就能学会如何将自然语言指令转化为特定机器人的动作序列。

这种方法使得机器人控制变得更加直观和灵活，降低了机器人编程的门槛。

### 3.2 SayCan

**SayCan** 是 Google Research 提出的一种框架，旨在将语言模型的能力与机器人实际的**能力 (Affordances)** 相结合，实现更可靠的机器人指令执行 [6]。SayCan 的核心思想是：

-   **语言模型概率**：语言模型评估一个高级指令（如“把薯片拿给我”）与机器人可执行的低级技能（如“走到桌子”、“拿起薯片”）之间的相关性。
-   **机器人能力概率**：机器人通过其感知系统评估当前环境下每个低级技能的可行性（例如，是否能看到薯片、是否能抓取薯片）。
-   **结合概率**：SayCan 将语言模型给出的技能有用性概率与机器人评估的技能可行性概率相结合，选择最有可能成功执行的技能。这使得机器人能够理解“我能做什么”和“我应该做什么”，从而做出更明智的决策 [7]。

SayCan 框架有效地解决了语言指令在物理世界中的接地问题，使得机器人能够更好地应对不确定性和环境变化。

### 3.3 Code as Policy

**Code as Policy** 是一种将机器人策略表示为可执行代码的方法，通常由 LLMs 生成。这种方法利用了 LLMs 生成高质量代码的能力，将高级任务规划直接转化为低级机器人控制指令 [8]。

-   **优势**：
    -   **可解释性**：生成的代码是人类可读的，有助于理解机器人的决策过程。
    -   **灵活性**：代码可以很容易地修改和调试，以适应新的任务或环境。
    -   **与现有机器人系统兼容**：生成的代码可以直接调用机器人操作系统的 API，与现有系统无缝集成。
-   **挑战**：
    -   **代码正确性**：LLMs 生成的代码可能存在错误，需要验证和调试。
    -   **安全性**：生成的代码可能导致机器人执行危险动作，需要严格的安全机制。

### 3.4 思维链 (Chain of Thoughts, CoT) 与机器人规划

**思维链 (Chain of Thoughts, CoT)** 是一种提示工程技术，通过引导 LLM 逐步思考问题，从而提高其在复杂推理任务上的表现 [9]。在机器人规划中，CoT 可以帮助 LLM：

-   **分解复杂任务**：将一个复杂任务分解为一系列逻辑步骤。
-   **生成中间推理**：在生成最终动作序列之前，先生成一系列中间的推理步骤，例如“首先，我需要找到目标物体；然后，我需要规划一条无碰撞路径；最后，我执行抓取动作。”
-   **提高规划质量**：通过显式的推理过程，LLM 能够生成更合理、更鲁棒的机器人规划。

**Robotic Planning with CoT** 结合了 LLM 的推理能力和机器人规划的实际需求，使得机器人能够更好地理解任务上下文，并生成更有效的动作序列 [10]。

## 4. 总结

VLM 和 LLM 在机器人规划领域开辟了新的可能性，使得机器人能够通过自然语言理解复杂指令，进行高级推理，并生成可执行的动作序列。从 Microsoft ChatGPT for Robot Series 的直观控制，到 SayCan 的能力接地，再到 Code as Policy 的代码生成，以及思维链的增强推理，这些技术共同推动着具身智能向更智能、更自主的方向发展。未来的研究将继续探索如何进一步提高这些模型的鲁棒性、样本效率和安全性，以实现更广泛的机器人应用。

## 5. 参考资料

- [1] Bian, S. (2026). Review Large language model-based task planning for service robots. *Robotics and Autonomous Systems*, 186, 104934.
- [2] Microsoft Research. (2023). *ChatGPT for Robotics: Design Principles and Model Abilities*. [URL](https://www.microsoft.com/en-us/research/publication/chatgpt-for-robotics-design-principles-and-model-abilities/)
- [3] AlignBot. (n.d.). *AlignBot: Aligning VLM-powered Customized Task Planning for Household Robots*. [URL](https://yding25.com/AlignBot/)
- [4] Microsoft Research. (2023). *ChatGPT Empowered Long-Step Robot Control in Various Environments: A Case Application*. [URL](https://www.microsoft.com/en-us/research/publication/chatgpt-empowered-long-step-robot-control-in-various-environments-a-case-application/)
- [5] Microsoft Research. (2023). *ChatGPT for Robotics: Design Principles and Model Abilities*. [URL](https://www.microsoft.com/en-us/research/group/autonomous-systems-group-robotics/articles/chatgpt-for-robotics/)
- [6] SayCan. (n.d.). *SayCan: Grounding Language in Robotic Affordances*. [URL](https://say-can.github.io/)
- [7] Google Research. (n.d.). *PaLM-SayCan*. [URL](https://sites.research.google/palm-saycan)
- [8] GT-RIPL. (n.d.). *Awesome-LLM-Robotics*. GitHub. [URL](https://github.com/GT-RIPL/Awesome-LLM-Robotics)
- [9] Wei, J., et al. (2022). Chain-of-Thought Prompting Elicits Reasoning in Large Language Models. *Advances in Neural Information Processing Systems*, 35.
- [10] Huang, W., et al. (2022). Inner Monologue: Empowering LLMs to Reason about their Actions. *arXiv preprint arXiv:2207.05641*.
